(self.webpackChunk=self.webpackChunk||[]).push([[5470],{34155:t=>{var e,i,n=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===a||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(i){try{return e.call(null,t,0)}catch(i){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:a}catch(t){e=a}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}}();var s,l=[],h=!1,c=-1;function u(){h&&s&&(h=!1,s.length?l=s.concat(l):c=-1,l.length&&f())}function f(){if(!h){var t=o(u);h=!0;for(var e=l.length;e;){for(s=l,l=[];++c<e;)s&&s[c].run();c=-1,e=l.length}s=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new m(t,e)),1!==l.length||h||o(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},36180:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var n=i(9669),a=i.n(n);const r={props:["axis","lines","type","chart_title","hideTitle","filters","hideZoom","chartTitle","chartData","xData","isRest","minH","chartColor","projectDomain","limit","order"],methods:{getSeries:function(){},callData:function(){var t=this;if(this.axis.length>=1&&this.lines.length>=1){var e="/ve/get-data";this.projectDomain&&(e=this.projectDomain+e),a().post(e,{axis:this.axis,lines:this.lines,filters:this.filters,order:this.order?this.order.toString():void 0,limit:this.limit?this.limit.toString():void 0}).then((function(e){t.elementData=e.data,t.initChart()})).catch((function(t){console.log(t)}))}},initChart:function(){var t=this;this.instance&&(this.instance.dispose(),this.instance=null);var e=this.$el,i=e.parentElement;e.style.height=i.offsetHeight+"px";var n=window.echarts.init(e,"light");this.instance=n;var a=[],r=[];this.axis.map((function(e){t.elementData.map((function(t){a.push("".concat(t[e.name]))}))}));var o=[];this.lines.map((function(e){var i=[];t.elementData.map((function(t){i.push(t[e.name])})),"AreaChart"==t.type&&r.push({name:e.title,type:"line",smooth:!0,areaStyle:{},data:i}),"LineChart"==t.type&&r.push({name:e.title,type:"line",smooth:!0,data:i}),"ColumnChart"==t.type&&r.push({name:e.title,type:"bar",smooth:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},data:i}),null!=e.color&&""!=e.color&&o.push(e.color)})),this.axis.length>=1&&this.lines.length>=1&&n.setOption({title:this.hideTitle?void 0:{text:this.chart_title,textStyle:{fontFamily:"Arial",fontWeight:"normal"}},tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},legend:{data:this.lines.map((function(t){return t.title})),align:"left",left:10,top:25},toolbox:{feature:{saveAsImage:{title:"Татах"},magicType:{type:["line","bar"],title:{line:"Шугман",bar:"Багнан"}}}},xAxis:{type:"category",boundaryGap:!0,data:a},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value",scale:!0,max:function(t){return t.max-0},min:function(t){return t.min-0},boundaryGap:[0,"100%"]},dataZoom:this.hideZoom?void 0:[{startValue:a[0]},{type:"inside"}],series:r,color:o.length>=1?o:void 0}),setTimeout((function(){t.initing=!1}),2100)},initRest:function(){this.instance&&(this.instance.dispose(),this.instance=null);var t=this.$el,e=t.parentElement;t.style.height=e.offsetHeight+"px";var i=window.echarts.init(t,"shine");this.instance=i,i.setOption({title:this.hideTitle?void 0:{text:this.chartTitle,textStyle:{fontFamily:"Arial",fontWeight:"normal"}},tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},legend:{data:this.chartData.map((function(t){return t.name})),align:"left",left:10,top:25},toolbox:{feature:{saveAsImage:{title:"Татах"},magicType:{type:["line","bar"],title:{line:"Шугман",bar:"Багнан"}}}},grid:{top:"25%"},xAxis:{type:"category",boundaryGap:!0,data:this.xData},yAxis:{type:"value",scale:!0,boundaryGap:[0,"100%"]},dataZoom:this.hideZoom?void 0:[{startValue:this.xData[0]},{type:"inside"}],series:this.chartData,color:this.chartColor?this.chartColor:void 0})}},beforeMount:function(){var t,e;this.id=(t="area",e=Math.random().toString(36).substr(3,9),"".concat(t,"-").concat(e))},mounted:function(){this.isRest?this.initRest():this.callData()},data:function(){return{elementData:[],instance:null,timeout:null}},watch:{type:function(t){this.initChart()},axis:{handler:function(t,e){var i=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){i.callData()}),1200)},deep:!0},lines:{handler:function(t,e){var i=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){i.callData()}),1200)},deep:!0}}};const o=(0,i(51900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"chart",style:t.minH?"width: 100%; height: 100%; min-height: "+t.minH:"width: 100%; height: 100%;"})}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=chart-area.2d2f855c8d98faaf.js.map