{"version":3,"file":"assets/lambda/js/chunks/report-list.b0d75992cef220ae.js","mappings":"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","sources":["webpack:///../../vue/puzzle/src/components/listview.vue?9fa6","webpack:///../../vue/puzzle/src/components/listview.vue","webpack:///../../vue/puzzle/src/components/listview.vue?9d04","webpack:///../../vue/puzzle/src/components/listview.vue?2b9f","webpack:///../../vue/puzzle/src/pages/report/views/list.vue?63b3","webpack:///../../vue/puzzle/src/pages/report/views/list.vue","webpack:///../../vue/puzzle/src/pages/report/views/list.vue?3b11","webpack:///../../vue/puzzle/src/pages/report/views/list.vue?07d0"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"page page-list\"},[_c('div',{staticClass:\"page-list-header\"},[_c('h3',[_vm._v(_vm._s(_vm.title)+\" (\"+_vm._s(_vm.listData.length)+\")\")]),_vm._v(\" \"),_c('div',{staticClass:\"page-list-header-search\"},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"icon\":\"ios-search\",\"placeholder\":_vm.lang1.pleaseEnterSearchValue},on:{\"on-keyup\":_vm.filterList}})],1),_vm._v(\" \"),_c('div',{staticClass:\"page-list-header-control\"},[_c('router-link',{staticClass:\"btn-del\",attrs:{\"to\":((_vm.prefix ? _vm.prefix : '') + \"/\" + _vm.type + \"/builder\")}},[_c('Button',{attrs:{\"type\":\"success\"}},[_c('Icon',{attrs:{\"type\":\"md-add\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.lang.add)+\"\\n        \")],1)],1)],1)]),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"loader\"},[_c('div',{staticClass:\"loader-wrapper\"},[_vm._m(0),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.lang.please_wait))])])]):_c('Row',{directives:[{name:\"slimscroll\",rawName:\"v-slimscroll\",value:({height:'100%-30',size:7,alwaysVisible: true,wheelStep:7,color:'#2C3A47'}),expression:\"{height:'100%-30',size:7,alwaysVisible: true,wheelStep:7,color:'#2C3A47'}\"}],staticClass:\"pz-list\",attrs:{\"gutter\":16}},_vm._l((_vm.filteredList),function(item){return _c('Col',{key:item.index,attrs:{\"xs\":24,\"sm\":12,\"md\":8,\"lg\":6}},[_c('div',{staticClass:\"pz-list-item\"},[_c('div',{staticClass:\"pz-list-item-body\"},[_c('h3',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('small',[_vm._v(_vm._s(item.created_at))])]),_vm._v(\" \"),_c('div',{staticClass:\"pz-list-item-control\"},[(_vm.preview != 'hidden')?_c('router-link',{staticClass:\"btn-preview\",attrs:{\"to\":((_vm.prefix ? _vm.prefix : '') + \"/\" + _vm.type + \"/preview/\" + (item.id))}},[_c('Icon',{attrs:{\"type\":\"ios-eye\"}})],1):_vm._e(),_vm._v(\" \\n          \"),(_vm.type == 'form' || _vm.type == 'grid')?_c('a',{staticClass:\"btn-preview\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.duplicate(item.id, _vm.type)}}},[_c('Icon',{attrs:{\"type\":\"md-copy\"}})],1):_vm._e(),_vm._v(\" \"),_c('span',[_c('router-link',{staticClass:\"btn-edit\",attrs:{\"to\":((_vm.prefix ? _vm.prefix : '') + \"/\" + _vm.type + \"/builder/\" + (item.id))}},[_c('Icon',{attrs:{\"type\":\"md-create\"}})],1),_vm._v(\" \"),_c('Poptip',{attrs:{\"confirm\":\"\",\"title\":_vm.lang.delete_data,\"confirm\":\"\",\"width\":\"180\",\"ok-text\":_vm.lang1.yes,\"cancel-text\":_vm.lang1.no},on:{\"on-ok\":function($event){return _vm.deleteListItem(item.id)},\"on-cancel\":_vm.cancel}},[_c('a',{staticClass:\"btn-del\",attrs:{\"href\":\"javascript:void(0)\"}},[_c('Icon',{attrs:{\"type\":\"ios-trash\"}})],1)])],1)],1)])])}),1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.lang1.copy,\"ok-text\":_vm.lang1.copy},on:{\"on-ok\":_vm.doDuplicate},model:{value:(_vm.duplicateModal),callback:function ($$v) {_vm.duplicateModal=$$v},expression:\"duplicateModal\"}},[_c('label',[_vm._v(_vm._s(_vm.lang1.name))]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.lang1.name},model:{value:(_vm.duplicateData.name),callback:function ($$v) {_vm.$set(_vm.duplicateData, \"name\", $$v)},expression:\"duplicateData.name\"}}),_vm._v(\" \"),_c('label',[_vm._v(_vm._s(_vm.lang1.table)+\" (DB table)\")]),_vm._v(\" \"),(_vm.type== 'form')?_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.lang1.selectTable,\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.duplicateData.schema.model),callback:function ($$v) {_vm.$set(_vm.duplicateData.schema, \"model\", $$v)},expression:\"duplicateData.schema.model\"}},_vm._l((_vm.tableList),function(item){return _c('Option',{key:item.index,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1):_vm._e(),_vm._v(\" \"),(_vm.type== 'grid')?_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.lang1.selectTable,\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.duplicateData.schema.model),callback:function ($$v) {_vm.$set(_vm.duplicateData.schema, \"model\", $$v)},expression:\"duplicateData.schema.model\"}},[_c('OptionGroup',{attrs:{\"label\":_vm.lang.table_list}},_vm._l((_vm.tableList),function(item){return _c('Option',{key:item.index,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1),_vm._v(\" \"),_c('OptionGroup',{attrs:{\"label\":_vm.lang.table_list}},_vm._l((_vm.viewList),function(item){return _c('Option',{key:item.index,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1):_vm._e(),_vm._v(\" \"),(_vm.type== 'grid')?_c('label',[_vm._v(_vm._s(_vm.lang1.basicTable)+\" (DB table)\")]):_vm._e(),_vm._v(\" \"),(_vm.type== 'grid')?_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.lang1.selectTable,\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.duplicateData.schema.mainTable),callback:function ($$v) {_vm.$set(_vm.duplicateData.schema, \"mainTable\", $$v)},expression:\"duplicateData.schema.mainTable\"}},_vm._l((_vm.tableList),function(item){return _c('Option',{key:item.index,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1):_vm._e()],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lds-roller\"},[_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div')])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"page page-list\">\n    <div class=\"page-list-header\">\n      <h3>{{ title }} ({{ listData.length }})</h3>\n      <div class=\"page-list-header-search\">\n        <Input @on-keyup=\"filterList\" icon=\"ios-search\" :placeholder=\"lang1.pleaseEnterSearchValue\"\n               style=\"width: 200px\"/>\n      </div>\n      <div class=\"page-list-header-control\">\n        <router-link :to=\"`${prefix ? prefix : ''}/${type}/builder`\" class=\"btn-del\">\n          <Button type=\"success\">\n            <Icon type=\"md-add\"></Icon>\n              {{ lang.add }}\n          </Button>\n        </router-link>\n      </div>\n    </div>\n\n    <div v-if=\"loading\" class=\"loader\">\n      <div class=\"loader-wrapper\">\n        <div class=\"lds-roller\">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n        <h3>{{ lang.please_wait }}</h3>\n      </div>\n    </div>\n\n    <Row v-else :gutter=\"16\" class=\"pz-list\"\n         v-slimscroll=\"{height:'100%-30',size:7,alwaysVisible: true,wheelStep:7,color:'#2C3A47'}\">\n      <Col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"6\" v-for=\"item in filteredList\" :key=\"item.index\">\n        <div class=\"pz-list-item\">\n          <div class=\"pz-list-item-body\">\n            <h3>{{ item.name }}</h3>\n            <small>{{ item.created_at }}</small>\n          </div>\n          <div class=\"pz-list-item-control\">\n            <router-link :to=\"`${prefix ? prefix : ''}/${type}/preview/${item.id}`\" class=\"btn-preview\"\n                         v-if=\"preview != 'hidden'\">\n              <Icon type=\"ios-eye\"></Icon>\n            </router-link>&nbsp;\n            <a href=\"javascript:void(0);\" class=\"btn-preview\" v-if=\"type == 'form' || type == 'grid'\"\n               @click=\"duplicate(item.id, type)\">\n              <Icon type=\"md-copy\"></Icon>\n            </a>\n            <span>\n                        <router-link :to=\"`${prefix ? prefix : ''}/${type}/builder/${item.id}`\" class=\"btn-edit\">\n                            <Icon type=\"md-create\"></Icon>\n                        </router-link>\n                        <Poptip confirm :title=\"lang.delete_data\" confirm width=\"180\" :ok-text=\"lang1.yes\"\n                                :cancel-text=\"lang1.no\" @on-ok=\"deleteListItem(item.id)\" @on-cancel=\"cancel\">\n                            <a href=\"javascript:void(0)\" class=\"btn-del\">\n                                <Icon type=\"ios-trash\"></Icon>\n                            </a>\n                        </Poptip>\n                    </span>\n          </div>\n        </div>\n      </Col>\n    </Row>\n    <Modal\n        v-model=\"duplicateModal\"\n        :title=\"lang1.copy\"\n        :ok-text=\"lang1.copy\"\n        @on-ok=\"doDuplicate\"\n    >\n      <label>{{ lang1.name }}</label>\n      <Input v-model=\"duplicateData.name\" :placeholder=\"lang1.name\" style=\"width: 100%\"/>\n      <label>{{ lang1.table }} (DB table)</label>\n      <Select v-if=\"type== 'form'\" v-model=\"duplicateData.schema.model\" :placeholder=\"lang1.selectTable\" clearable style=\"width: 100%\"\n              filterable>\n        <Option v-for=\"item in tableList\" :value=\"item\" :key=\"item.index\">{{ item }}</Option>\n      </Select>\n        <Select v-if=\"type== 'grid'\"  v-model=\"duplicateData.schema.model\" :placeholder=\"lang1.selectTable\" clearable filterable style=\"width: 100%\">\n        <OptionGroup :label=\"lang.table_list\">\n          <Option v-for=\"item in tableList\" :value=\"item\" :key=\"item.index\">{{ item }}</Option>\n        </OptionGroup>\n        <OptionGroup :label=\"lang.table_list\">\n          <Option v-for=\"item in viewList\" :value=\"item\" :key=\"item.index\">{{ item }}</Option>\n        </OptionGroup>\n      </Select>\n      <label v-if=\"type== 'grid'\">{{ lang1.basicTable }} (DB table)</label>\n      <Select v-if=\"type== 'grid'\" v-model=\"duplicateData.schema.mainTable\" :placeholder=\"lang1.selectTable\" clearable style=\"width: 100%\" filterable>\n        <Option v-for=\"item in tableList\" :value=\"item\" :key=\"item.index\">{{ item }}</Option>\n      </Select>\n    </Modal>\n  </section>\n</template>\n\n<script>\nimport {loadLanguageAsync} from \"../../../locale/src/index\";\nexport default {\n  props: [\"title\", \"type\", \"src\", \"preview\", \"prefix\"],\n  data() {\n    return {\n      duplicateModal: false,\n      loading: true,\n      listData: [],\n      filteredList: [],\n      duplicateData: {\n        schema: {},\n        name: null,\n        id: null,\n      },\n      tableList:window.init[\"dbSchema\"][\"tableList\"],\n      viewList:window.init[\"dbSchema\"][\"viewList\"],\n      reportList:window.init[\"dbSchema\"][\"reportList\"],\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n    computed: {\n        lang() {\n            const labels = [ 'add', 'delete_data'];\n            return labels.reduce((obj, key, i) => {\n                obj[key] = this.$t('puzzle.' + labels[i]);\n                return obj;\n            }, {});\n        },\n        lang1() {\n            const labels = [ 'pleaseEnterSearchValue', 'yes', 'no', 'copy', 'name', 'selectTable', 'table', 'basicTable', 'table_list'];\n            return labels.reduce((obj, key, i) => {\n                obj[key] = this.$t('components.' + labels[i]);\n                return obj;\n            }, {});\n        },\n    },\n  methods: {\n      beforeMount() {\n          if (this.selectedLang != \"mn\") {\n              loadLanguageAsync(this.selectedLang);\n          }\n      },\n      switchLanguage(val) {\n          this.selectedLang = val;\n          loadLanguageAsync(val);\n      },\n    getData() {\n      axios.get(this.$props.src).then(({data}) => {\n        this.loading = false;\n        this.filteredList = this.listData = data.data;\n      });\n    },\n    doDuplicate() {\n\n      let src = \"/lambda/puzzle/schema/form\"\n      if(this.type == \"grid\"){\n          src = \"/lambda/puzzle/schema/grid\";\n\n        this.duplicateData.schema.schema.forEach(col=>{\n          col.table = this.duplicateData.schema.model\n        });\n      }\n      if(this.$project){\n           src = `/lambda/puzzle/project/${this.$project.id}/form`\n          if (this.type == \"grid\") {\n              src = `/lambda/puzzle/project/${this.$project.id}/grid`;\n\n              this.duplicateData.schema.schema.forEach(col => {\n                  col.table = this.duplicateData.schema.model\n              });\n          }\n      }\n      // if(this.type == \"from\"){\n      //   this.duplicateData.schema.ui.schema = [];\n      // }\n\n      let data = {\n        name: this.duplicateData.name,\n        schema: JSON.stringify(this.duplicateData.schema)\n      };\n      axios.post(src, data).then(({data}) => {\n        if (data.status) {\n          this.$Notice.success({\n            title: 'Амжилттай хадгалагдлаа',\n            desc: `\"${this.formName}\" формын мэдээлэл амжилттай хадгалагдлаа.`\n          });\n          this.duplicateModal = false;\n          this.duplicateData = {\n            schema: {},\n            name: null,\n            id: null,\n          };\n          this.getData();\n        } else {\n          this.$Notice.error({\n            title: 'Хадгалах үед алдаа гарлаа!',\n          });\n        }\n      });\n    },\n    duplicate(id, type) {\n        let src = `/lambda/puzzle/schema/form/${id}/builder`\n      if(this.type == \"grid\"){\n        src = `/lambda/puzzle/schema/grid/${id}`\n      }\n\n      if(this.$project){\n           src = `/lambda/puzzle/project/${this.$project.id}/form/${id}/builder`\n          if (this.type == \"grid\") {\n              src = `/lambda/puzzle/project/${this.$project.id}/grid/${id}`\n          }\n      }\n      axios.get(src)\n          .then(({data}) => {\n            this.duplicateData.name = data.data.hasOwnProperty('name') ? data.data.name : data.data.model;\n            this.duplicateData.schema = JSON.parse(data.data.schema);\n            this.duplicateData.id = id;\n            this.duplicateModal = true;\n          }).catch(o => {\n        console.log(o);\n      });\n    },\n    deleteListItem(id) {\n      axios.delete(this.$project ? `/lambda/puzzle/delete/project/vb_schemas/${this.$project.id}/${this.type}/${id}` : `/lambda/puzzle/delete/vb_schemas/${this.type}/${id}`).then(o => {\n        this.filteredList = this.filteredList.filter(\n            item => item.id !== id\n        );\n        this.listData = this.listData.filter(item => item.id !== id);\n        this.$Message.success(\"444 Амжилттай устгалаа!\");\n      });\n    },\n    cancel() {\n    },\n    filterList($event) {\n      let vm = this;\n      let q = $event.target.value;\n      if (q != \"\") {\n        vm.filteredList = vm.listData.filter(\n            item =>\n                item.name\n                    .toString()\n                    .toLowerCase()\n                    .indexOf(q.toLowerCase()) >= 0\n        );\n      } else {\n        vm.filteredList = vm.listData;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../starter-apps/starter-go/node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../starter-apps/starter-go/node_modules/vue-loader/lib/index.js??vue-loader-options!./listview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../starter-apps/starter-go/node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../starter-apps/starter-go/node_modules/vue-loader/lib/index.js??vue-loader-options!./listview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listview.vue?vue&type=template&id=2529c8d6&\"\nimport script from \"./listview.vue?vue&type=script&lang=js&\"\nexport * from \"./listview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../starter-apps/starter-go/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('list-view',{attrs:{\"src\":\"/lambda/puzzle/schema/report\",\"title\":_vm.lang._report,\"type\":\"report\",\"data\":_vm.listData}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <list-view src=\"/lambda/puzzle/schema/report\" :title=\"lang._report\" type=\"report\" :data=\"listData\" ></list-view>\n</template>\n\n<script>\nimport listView from \"../../../components/listview.vue\";\nimport {loadLanguageAsync} from \"../../../../../locale\";\n\nexport default {\n    components: {\n        \"list-view\": listView\n    },\n    methods: {\n        beforeMount() {\n            if (this.selectedLang != \"mn\") {\n                loadLanguageAsync(this.selectedLang);\n            }\n        },\n        switchLanguage(val) {\n            this.selectedLang = val;\n            loadLanguageAsync(val);\n        },\n    },\n    computed: {\n        lang() {\n            const labels = ['_report',];\n            return labels.reduce((obj, key, i) => {\n                obj[key] = this.$t('puzzle.' + labels[i]);\n                return obj;\n            }, {});\n        },\n    }\n};\n</script>\n","import mod from \"-!../../../../../../starter-apps/starter-go/node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../starter-apps/starter-go/node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../starter-apps/starter-go/node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../../starter-apps/starter-go/node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=da2d82a8&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../starter-apps/starter-go/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["props","data","duplicateModal","loading","listData","filteredList","duplicateData","schema","name","id","tableList","viewList","reportList","created","this","getData","methods","axios","get","$props","src","then","doDuplicate","forEach","col","table","JSON","stringify","post","status","title","desc","duplicate","console","log","o","deleteListItem","cancel","filterList","vm","q","filter","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","length","staticStyle","attrs","lang1","pleaseEnterSearchValue","on","prefix","type","lang","add","_m","please_wait","directives","rawName","value","height","size","alwaysVisible","wheelStep","color","expression","_l","item","key","index","created_at","preview","_e","$event","delete_data","yes","no","copy","model","callback","$$v","$set","selectTable","table_list","basicTable","_report"],"sourceRoot":""}